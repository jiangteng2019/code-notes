## 布隆过滤器

1. 名词解释
   布隆过滤器用于在一个大集合中，判断元素重复的算法。优点是空间效率和查询时间都会比一般的算法好很多。缺点是有一定的误识别率和删除困难。

1. 定义
   布隆过滤器本质上由长度为m的位向量和K个只能输出单索引值的哈希函数组成。但保存一个元素的时候，通过k个哈希函数生成对应的索引值，并将其索引值的所在的位向量标记为1。当判断一个元素是否存在的时候，通过k个哈希函数计算出的索引位置对应的向量值，如果全为1，表明可能在集合中(存在误判可能)。如果又一个位置的索引为0，证明集合中一定不存在该元素。

1. 可预测的误判率（FPP）
    $$
    FPP = (1 - e^{-kn/m})^{k}
    $$

-   n 是已经添加元素的数量；
-   k 哈希的次数；
-   m 布隆过滤器的长度（如比特数组的大小）

布隆过滤器的长度 m 可以根据给定的误判率（FFP）的和期望添加的元素个数 n 的通过如下公式计算：

$$
m = \frac{- n ln Pfp}{(ln2)^2 }
$$
